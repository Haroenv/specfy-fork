@import "../../styles/theme";

.sidebar {
  position: sticky;
  z-index: 100;
  top: 0;

  width: 250px;
  height: calc(100vh - $height-header);

  background-color: #fff;

  transition: transform 0.25s $trst-smooth, width 0.25s $trst-smooth;

  &:hover {
    .collapser {
      opacity: 1;
    }
  }

  &.collapsed {
    &.sidebar {
      transform: translateX(-230px);
      width: 20px;
    }

    .inner {
      background-color: $gray-100;
    }

    .collapser {
      transform: translateX(228px);
      opacity: 1;
    }

    .header {
      opacity: 0;
    }

    .content {
      opacity: 0;
    }
  }
}

.inner {
  width: 250px;
}

.header {
  display: flex;
  gap: $p-m;
  align-items: center;

  height: $height-header-project;
  padding: $p-2xl $p-l;

  font-size: $font-l;

  border-right: 1px solid $color-border;
  border-bottom: 1px solid $color-border;


  .label {
    display: flex;
    gap: $p-s;

    .slash {
      color: $gray-500;
    }
  }

  a {
    display: block;
    color: $gray-800;
    white-space: pre;
  }
}

.collapser {
  position: absolute;
  top: 27px;
  right: -13px;
  z-index: 1;

  opacity: 0;
  background-color: #fff;
  border: 1px solid $color-border;
  border-radius: 10px;
  box-shadow: $box-shadow;

  transition: opacity 0.25s ease-in, transform 0.25s ease-in-out;

  &:hover {
    opacity: 1;
  }

}

.content {
  border-right: 1px solid $color-border;

  transition: opacity 0.25s $trst-smooth;
}

.group {
  padding: 0 0 $p-xl 0;
  border-bottom: 1px solid $color-border;

  .head {
    cursor: pointer;

    display: grid;
    grid-template-columns: 20px 5fr 1fr;
    gap: $p-m;
    align-items: center;
    justify-content: space-between;

    padding: $p-xl $p-xl;

    font-weight: 500;

    &:hover {
      background-color: $gray-50;
    }

    .chevron {
      padding-top: 1px;
    }

    .actions {
      display: flex;
      align-items: end;
    }
  }


  &.small {
    padding-bottom: 0;

    .head {
      padding: $p-m $p-xl;
      font-weight: normal;
      color: $gray-500;
    }
  }

  .sub {
    overflow: hidden;
    transition: height 0.25s ease-in-out;
  }

  &.hide {
    padding-bottom: 0;

    .sub {
      height: 0;
    }
  }

  .link {
    display: flex;
    gap: $p-m;

    padding: $p $p-xl;

    color: $gray-700;

    border-left: 4px solid transparent;

    &:hover {
      color: 1;
      background-color: $gray-50;
    }

    &.selected {
      background-color: $primary-low;
      border-left-color: $primary;
    }

  }
}
